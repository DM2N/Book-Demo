(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b208a50"],{"020b":function(e,t,i){e.exports=i.p+"img/imgvalid3.143ea1de.jpg"},"0ba3":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gIcSUNDX1BST0ZJTEUAAQEAAAIMbGNtcwIQAABtbnRyUkdCIFhZWiAH3AABABkAAwApADlhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApkZXNjAAAA/AAAAF5jcHJ0AAABXAAAAAt3dHB0AAABaAAAABRia3B0AAABfAAAABRyWFlaAAABkAAAABRnWFlaAAABpAAAABRiWFlaAAABuAAAABRyVFJDAAABzAAAAEBnVFJDAAABzAAAAEBiVFJDAAABzAAAAEBkZXNjAAAAAAAAAANjMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0ZXh0AAAAAElYAABYWVogAAAAAAAA9tYAAQAAAADTLVhZWiAAAAAAAAADFgAAAzMAAAKkWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPY3VydgAAAAAAAAAaAAAAywHJA2MFkghrC/YQPxVRGzQh8SmQMhg7kkYFUXdd7WtwegWJsZp8rGm/fdPD6TD////bAIQAAgMDAwQDBAUFBAYGBgYGCAgHBwgIDQkKCQoJDRMMDgwMDgwTERQRDxEUER4YFRUYHiMdHB0jKiUlKjUyNUVFXAECAwMDBAMEBQUEBgYGBgYICAcHCAgNCQoJCgkNEwwODAwODBMRFBEPERQRHhgVFRgeIx0cHSMqJSUqNTI1RUVc/8AAEQgAKAAoAwEiAAIRAQMRAf/EAHcAAAICAwEAAAAAAAAAAAAAAAAIBwkEBQYKEAABAwMDBAEEAwEAAAAAAAABAgMEAAURBhIhBxMiMRQIMkFRJGGBcQEBAQEBAAAAAAAAAAAAAAAABAIDBREAAgICAQQDAAAAAAAAAAAAAQIAIQMREjJBcZEiQlL/2gAMAwEAAhEDEQA/AKfojaUtb0k4U04efwQAKuG+n1iWiwSYxS0lhkNKACML7i8hWSPY8apwiBQdQzzhxQ/yreehsfU8y2zfhzw0v4auy0sDtdwODBUdpVjk1zHJ5Y/J36ilAOPNsdhr3Gfsl0tUnWV9hsvFT7LMYLSQcZb3BWM8cbhmphTFyDUe6ftTSepmp1BhCVmFDJIHOV+6YAW9RSokYAByTVswhwk87PWlhtjqRqxP7nOUVn9fFRUdWtXgOBwfKP2H+hRUiKbVRX45UHAR9wSCD/oq2johrSHboMFpMwKlyrbIWW1kKLYQrx7aUj9jJ3VUawspe4OfEe6eLQTtntN9tUhx8spFmIIwTy4okkVnl+tWDLwjrutDceK+661XYYt0v0HtS5/8VlxhaCoOp+3dsbwSE1xekuu2o3blebnf7UhvwgRPjoQ60AiS4EFYQ6r2BUaXnqy3AcQu3OOOtqDjbpS3lSErAwoBQrX6r1qi/wAOXdHdODvZhpckvloFAa29sFtS0n0ikq6hCpxiz1buEONy6sHNCx28xafqEDaequodiiUrSwvOc53soNFRp1GlImXxuYmW28ZURor2jAQUAN4/740VmqnUt2BMh1tQJG33TCxNaTYjtsKY0ZztQ1R09xsLB8t4JH74ooqwFYWBI5MoomSPB6lWmWgMXCA0EryCtthvwzxxxmuWvtr2Q1pt94dXGeUHVB09zcRx7/FFFMxon5AhMrvsfImLXcTN7oDgHiCBgAe+fxRRRRWGiQCYgWNmf//Z"},"118b":function(e,t,i){},"13d5":function(e,t,i){"use strict";var A=i("23e7"),s=i("d58f").left,n=i("a640"),r=i("ae40"),o=i("2d00"),a=i("605d"),c=n("reduce"),l=r("reduce",{1:0}),u=!a&&o>79&&o<83;A({target:"Array",proto:!0,forced:!c||!l||u},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"34b8":function(e,t,i){e.exports=i.p+"img/imgvalid2.d5bf584e.jpg"},5622:function(e,t,i){"use strict";i("719e")},"659b":function(e,t,i){e.exports=i.p+"img/imgvalid6.751b3d8c.jpg"},"6cbd":function(e,t,i){e.exports=i.p+"img/imgvalid9.a3522b4e.jpg"},"711f":function(e,t,i){e.exports=i.p+"img/imgvalid7.31529c71.jpg"},"719e":function(e,t,i){},7531:function(e,t,i){e.exports=i.p+"img/imgvalid1.d6391c48.jpg"},"8ba0":function(e,t,i){"use strict";i.r(t);var A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"signin"}},[i("div",{staticClass:"signin_logo"},[i("el-image",{attrs:{src:e.logoUrl}})],1),i("h1",{staticClass:"signin_title"},[e._v("登录")]),i("el-form",{ref:"signin_form",attrs:{model:e.signin_form,rules:e.signinRules}},[i("el-form-item",{attrs:{prop:"userName"}},[i("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入用户名"},model:{value:e.signin_form.userName,callback:function(t){e.$set(e.signin_form,"userName",t)},expression:"signin_form.userName"}},[i("i",{staticClass:"el-input__icon el-icon-user-solid",attrs:{slot:"prefix"},slot:"prefix"})])],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{"show-password":"",size:"small",autocomplete:"new-password",placeholder:"请输入密码"},model:{value:e.signin_form.password,callback:function(t){e.$set(e.signin_form,"password",t)},expression:"signin_form.password"}},[i("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),i("el-form-item",[i("el-button",{directives:[{name:"ripples",rawName:"v-ripples"}],staticClass:"signin_btn",style:{backgroundColor:e.getThemeHeaderBGColor,borderColor:e.getThemeHeaderBGColor},attrs:{type:"primary"},on:{click:e.getOffSet}},[e._v("登 录")])],1)],1),i("el-dialog",{attrs:{title:"滑动图片验证",visible:e.showDialog,"append-to-body":!0,"close-on-click-modal":!1,width:"350px"},on:{"update:visible":function(t){e.showDialog=t}}},[i("slide-verify",{ref:"slideblock",attrs:{l:42,r:8,w:310,h:200,left:e.offset,"slider-text":"向右滑动",imgs:e.imgList},on:{success:e.onSuccess,fail:e.onFail,refresh:e.refresh}})],1)],1)},s=[],n=(i("96cf"),i("1da1")),r=i("d4ec"),o=i("bee2"),a=i("262e"),c=i("2caf"),l=i("9ab4"),u=i("60a3"),h=i("0ba3"),f=i.n(h),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slide-verify",attrs:{id:"slideVerify",onselectstart:"return false;"}},[i("canvas",{ref:"canvas",attrs:{width:e.w,height:e.h}}),e.show?i("div",{staticClass:"slide-verify-refresh-icon",on:{click:e.refresh}}):e._e(),i("canvas",{ref:"block",staticClass:"slide-verify-block",attrs:{width:e.w,height:e.h}}),i("div",{staticClass:"slide-verify-slider",class:{"container-active":e.containerActive,"container-success":e.containerSuccess,"container-fail":e.containerFail}},[i("div",{staticClass:"slide-verify-slider-mask",style:{width:e.sliderMaskWidth}},[i("div",{staticClass:"slide-verify-slider-mask-item",style:{left:e.sliderLeft},on:{mousedown:e.sliderDown,touchstart:e.touchStartEvent,touchmove:e.touchMoveEvent,touchend:e.touchEndEvent}},[i("div",{staticClass:"slide-verify-slider-mask-item-icon"})])]),i("span",{staticClass:"slide-verify-slider-text"},[e._v(e._s(e.sliderText))])])])},g=[],m=(i("d81d"),i("13d5"),Math.PI),p=function(e,t){return e+t},v=function(e){return e*e},b=function(e){Object(a["a"])(i,e);var t=Object(c["a"])(i);function i(){var e;return Object(r["a"])(this,i),e=t.apply(this,arguments),e.containerActive=!1,e.containerSuccess=!1,e.containerFail=!1,e.canvasCtx=null,e.blockCtx=null,e.block=null,e.block_x=void 0,e.block_y=void 0,e.L=e.l+2*e.r+3,e.img=void 0,e.originX=void 0,e.originY=void 0,e.isMouseDown=!1,e.trail=[],e.sliderLeft=0,e.sliderMaskWidth=0,e}return Object(o["a"])(i,[{key:"mounted",value:function(){this.init()}},{key:"init",value:function(){this.initDom(),this.initImg(),this.bindEvents()}},{key:"initDom",value:function(){this.block=this.$refs.block,this.canvasCtx=this.$refs.canvas.getContext("2d"),this.blockCtx=this.block.getContext("2d")}},{key:"initImg",value:function(){var e=this,t=this.createImg((function(){e.drawBlock(),e.canvasCtx.drawImage(t,0,0,e.w,e.h),e.blockCtx.drawImage(t,0,0,e.w,e.h);var i=e.block_x,A=e.block_y,s=e.r,n=e.L,r=A-2*s-1,o=e.blockCtx.getImageData(i,r,n,n);e.block.width=n,e.blockCtx.putImageData(o,0,r)}));this.img=t}},{key:"drawBlock",value:function(){this.block_x=this.left,this.block_y=this.getRandomNumberByRange(10+2*this.r,this.h-(this.L+10)),this.draw(this.canvasCtx,this.block_x,this.block_y,"fill"),this.draw(this.blockCtx,this.block_x,this.block_y,"clip")}},{key:"draw",value:function(e,t,i,A){var s=this.l,n=this.r;e.beginPath(),e.moveTo(t,i),e.arc(t+s/2,i-n+2,n,.72*m,2.26*m),e.lineTo(t+s,i),e.arc(t+s+n-2,i+s/2,n,1.21*m,2.78*m),e.lineTo(t+s,i+s),e.lineTo(t,i+s),e.arc(t+n-2,i+s/2,n+.4,2.76*m,1.24*m,!0),e.lineTo(t,i),e.lineWidth=2,e.fillStyle="rgba(255, 255, 255, 0.7)",e.strokeStyle="rgba(255, 255, 255, 0.7)",e.stroke(),e[A](),e.globalCompositeOperation="overlay"}},{key:"createImg",value:function(e){var t=this,i=document.createElement("img");return i.crossOrigin="Anonymous",i.onload=e,i.onerror=function(){i.src=t.getRandomImg()},i.src=this.getRandomImg(),i}},{key:"getRandomImg",value:function(){var e=this.imgs.length;return this.imgs[this.getRandomNumberByRange(0,e)]}},{key:"getRandomNumberByRange",value:function(e,t){return Math.round(Math.random()*(t-e)+e)}},{key:"refresh",value:function(){this.reset()}},{key:"sliderDown",value:function(e){this.originX=e.clientX,this.originY=e.clientY,this.isMouseDown=!0}},{key:"touchStartEvent",value:function(e){this.originX=e.changedTouches[0].pageX,this.originY=e.changedTouches[0].pageY,this.isMouseDown=!0}},{key:"bindEvents",value:function(){var e=this;document.addEventListener("mousemove",(function(t){if(!e.isMouseDown)return!1;var i=t.clientX-e.originX,A=t.clientY-e.originY;if(i<0||i+38>=e.w)return!1;e.sliderLeft=i+"px";var s=(e.w-40-20)/(e.w-40)*i;e.block.style.left=s+"px",e.containerActive=!0,e.sliderMaskWidth=i+"px",e.trail.push(A)})),document.addEventListener("mouseup",(function(t){if(!e.isMouseDown)return!1;if(e.isMouseDown=!1,t.clientX===e.originX)return!1;e.containerActive=!1;var i=e.verify(),A=i.spliced;if(A){if(-1===e.accuracy)return e.containerSuccess=!0,void e.$emit("success");e.containerSuccess=!0,e.$emit("success")}else e.containerFail=!0,e.$emit("fail"),setTimeout((function(){e.reset()}),1e3)}))}},{key:"touchMoveEvent",value:function(e){if(!this.isMouseDown)return!1;var t=e.changedTouches[0].pageX-this.originX,i=e.changedTouches[0].pageY-this.originY;if(t<0||t+38>=this.w)return!1;this.sliderLeft=t+"px";var A=(this.w-40-20)/(this.w-40)*t;this.block.style.left=A+"px",this.containerActive=!0,this.sliderMaskWidth=t+"px",this.trail.push(i)}},{key:"touchEndEvent",value:function(e){var t=this;if(!this.isMouseDown)return!1;if(this.isMouseDown=!1,e.changedTouches[0].pageX===this.originX)return!1;this.containerActive=!1;var i=this.verify(),A=i.spliced,s=i.TuringTest;if(A){if(-1===this.accuracy)return this.containerSuccess=!0,void this.$emit("success");s?(this.containerSuccess=!0,this.$emit("success")):(this.containerFail=!0,this.$emit("again"))}else this.containerFail=!0,this.$emit("fail"),setTimeout((function(){t.reset()}),1e3)}},{key:"verify",value:function(){var e=this.trail,t=e.reduce(p)/e.length,i=e.map((function(e){return e-t})),A=Math.sqrt(i.map(v).reduce(p)/e.length),s=parseInt(this.block.style.left),n=this.accuracy<=1?1:this.accuracy>10?10:this.accuracy;return{spliced:Math.abs(s-this.block_x)<=n,TuringTest:t!==A}}},{key:"reset",value:function(){this.containerActive=!1,this.containerSuccess=!1,this.containerFail=!1,this.sliderLeft=0,this.block.style.left=0,this.sliderMaskWidth=0;var e=this.w,t=this.h;this.canvasCtx.clearRect(0,0,e,t),this.blockCtx.clearRect(0,0,e,t),this.block.width=e,this.img.src=this.getRandomImg(),this.$emit("fulfilled")}}]),i}(u["d"]);Object(l["a"])([Object(u["c"])({default:42})],b.prototype,"l",void 0),Object(l["a"])([Object(u["c"])({default:10})],b.prototype,"r",void 0),Object(l["a"])([Object(u["c"])({default:310})],b.prototype,"w",void 0),Object(l["a"])([Object(u["c"])({default:155})],b.prototype,"h",void 0),Object(l["a"])([Object(u["c"])({default:200})],b.prototype,"left",void 0),Object(l["a"])([Object(u["c"])({default:"Slide filled right"})],b.prototype,"sliderText",void 0),Object(l["a"])([Object(u["c"])({default:5})],b.prototype,"accuracy",void 0),Object(l["a"])([Object(u["c"])({default:!0})],b.prototype,"show",void 0),Object(l["a"])([Object(u["c"])({default:function(){return[]}})],b.prototype,"imgs",void 0),Object(l["a"])([Object(u["b"])()],b.prototype,"refresh",null),b=Object(l["a"])([Object(u["a"])({name:"SlideVerify"})],b);var w=b,k=w,y=(i("5622"),i("2877")),x=Object(y["a"])(k,d,g,!1,null,"229734a0",null),B=x.exports,j=i("172f"),O={userName:"",password:""},R=function(e){Object(a["a"])(A,e);var t=Object(c["a"])(A);function A(){var e;return Object(r["a"])(this,A),e=t.apply(this,arguments),e.logoUrl=f.a,e.signin_form=O,e.showDialog=!1,e.imgValidKey="",e.offset=100,e.imgList=[i("d6ae"),i("7531"),i("34b8"),i("020b"),i("d5e1"),i("cf02"),i("659b"),i("711f"),i("b416"),i("6cbd")],e}return Object(o["a"])(A,[{key:"created",value:function(){var e=this;document.onkeydown=function(){var t=window.event.keyCode;13===t&&e.getOffSet()}}},{key:"getOffSet",value:function(){var e=this;this.$refs.signin_form.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i?(e.offset=200,e.showDialog=!0):e.$message.error("请输入正确的信息");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"onSuccess",value:function(){this.signin()}},{key:"onFail",value:function(){this.$message.error("验证失败，请重试！"),this.getOffSet()}},{key:"refresh",value:function(){this.getOffSet()}},{key:"signin",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$message.success("登录成功"),t=this.$route.query&&this.$route.query.redirect||"/dashboard",setTimeout((function(){i.$router.push({path:t||"/"})}),1e3),this.showDialog=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"signinRules",get:function(){return{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"密码长度为6-18位",trigger:"blur"}]}}},{key:"getThemeHeaderBGColor",get:function(){return j["a"].theme.headerBGColor}}]),A}(u["d"]);R=Object(l["a"])([Object(u["a"])({name:"SignIn",components:{SlideVerify:B}})],R);var C=R,D=C,E=(i("8d84"),i("ab7e"),Object(y["a"])(D,A,s,!1,null,"78cddf8f",null));t["default"]=E.exports},"8d84":function(e,t,i){"use strict";i("feff")},ab7e:function(e,t,i){"use strict";i("118b")},b416:function(e,t,i){e.exports=i.p+"img/imgvalid8.718d9655.jpg"},cf02:function(e,t,i){e.exports=i.p+"img/imgvalid5.b4e046f6.jpg"},d58f:function(e,t,i){var A=i("1c0b"),s=i("7b0b"),n=i("44ad"),r=i("50c4"),o=function(e){return function(t,i,o,a){A(i);var c=s(t),l=n(c),u=r(c.length),h=e?u-1:0,f=e?-1:1;if(o<2)while(1){if(h in l){a=l[h],h+=f;break}if(h+=f,e?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:u>h;h+=f)h in l&&(a=i(a,l[h],h,c));return a}};e.exports={left:o(!1),right:o(!0)}},d5e1:function(e,t,i){e.exports=i.p+"img/imgvalid4.1d303fc4.jpg"},d6ae:function(e,t,i){e.exports=i.p+"img/imgvalid0.48960305.jpg"},feff:function(e,t,i){}}]);